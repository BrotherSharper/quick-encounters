# TO DO

## BUGS
v0.5.0 You still see and hear HP rolling with Token Mold, even though the saved tokens are not changed
v0.5.3 NOT A BUG? In Foundry 0.7.3, doesn't create saved tokens correctly if they were made from a non-standard Actor
    - XP to award dialog should have checkboxes for who awards XP and who gets it
v0.6.1 Intro Je is no longer accurate with Companion Dialog method
v0.6.1: Can't change numeric field to die roll - try removing the actor and re-adding from the Journal Entry    
        - won't work because once there is a Quick Encounter you can't get rid of it 
v0.6.1: If you 0 out all Actors then remove the Quick Encounter completely        

## FEATURES
Add to Settings:
    - Create the Quick Encounter section in a QE Journal Entry (otherwise you have to use the sidebar button)
    - Option to have to specifically designate a Journal Entry as a Quick Encounter (or you can use the side button)

- Allow a way to NOT have Quick Encounters turn Actor links into a Quick Encounter Journal Entry
    - save with the Journal Entry as a flag; but then how do you turn it on again?
    - embed a QE Journal Entry
>>> Add a link to open the Companion Sheet in Journal Entries    

- If you drag a Journal Entry to the Scene, then intercept to change the icon etc.
    - Partially done: could identify it's a Quick Encounter from the inclusion of Actor links
        but perhaps a better approach would be with a flag that was set
- Improve the way the Journal Entry gets built to do more with the template and handlebars

More sophisticated monster entries:
    - Scan Journal Entries to turn into Actor links and Quick Encounters
    - Allow dynamic generation of which monsters (use a RollTable?)

Show which Journal Entries have Quick Encounters in the Journal list




- Editing Companion dialog
    - Or JE-by-JE option to use new method; or global option   
        - Sync methods: Manual, JE-to-Companion, Companion-to-JE
- When the Companion dialog opens - show the token position as TEMPORARY tokens on the map - allow them to be moved or deleted    
>>>Re-test with COmpendium links (they will break things)


## REFACTORING
- Remove unused styles from .css


DOCS
- Edit the Intro Journal Entry


## FIXED BUGS
FIXED 1. If the Actor embed text includes a number that is the only number, it will be used (Rion -L14) will result in 14 copies
FIXED (v0.3.4) Sometimes the corresponding Map Note is not deleted when you delete the Journal Entry
                - This happens for Method 2 because the scene isn't recorded
FIXED (v0.3.4) 5. With Method 1, the Journal Entry is re-opened when we create the Map Note
FIXED (v0.4.0) Error in onDelete of Tutorial Journal because oneDelete->close triggers another deletion call
NOT A BUG 6. Why do we sometimes get Unknown tokens being added - seem to be left over from previous interruptions in testing
FIXED (v0.4.0) v0.3.4 If you drag additional Actors to the Journal Entry, they are not getting added
FIXED (v0.4.0) v0.3.4 If you're on another Scene, the embedded button will switch scenes but the Quick Encounter button won't
FIXED (v0.4.1) v0.4.0 Method 2 isn't creating a Map Note - EncounterNote.place needs to place a Note or ask you to do that if one does not exist
FIXED (v0.4.1) v0.3.4 If you don't drag the Journal to the scene pressing the Quick Encounter button will fail silently
FIXED (v0.4.2) 0.4.1 If the number of Actors is part of a sentence, it won't be picked up correctly
FIXED (v0.4.2) 0.4.1 If you have a Player selected when you open your Quick Encounter, it will create a new one instead
            - Fixed: Ignore Friendly tokens
FIXED (v0.4.2) 0.4.1 Was using Dialog.prompt which doesn't exist in 0.6.6 - replaced with local implementation
FIXED (v0.5.0) 0.4.3 Saved tokens should bypass Token Mold
FIXED (v0.5.0) v0.3.4 If you click Quick Encounters again you get a second copy of the Tutorial
FIXED (v0.5.0) 0.4.3   Switch Scene still not working properly (qeScene.view() needs to wait until finished)
NOT A BUG  0.4.0   The TurnMarker app is throwing errors - are those related to 0.7.2 or in 0.6.6
        - Doesn't seem to be happening in 0.6.6
FIXED (v0.5.0) 0.5.0 Token.create() was returning a single token if you passed in a single-element array of token data; fixed to check
    - (would mean single-opponent encounters wouldn't be added to the Combat Tracker)
FIXED (v0.5.0) v0.4.0 If you drag tokens into the Journal Entry, later adding new Actors will be ignored
FIXED (v0.5.3) v0.5.2 If you have the Tutorial Journal Entry open and try to save a Journal Entry and then close it, it will delete the Journal ENTRY
            - because it's searching the WHOLE DOM for QuickEncountersTutorial, not just the particular Journal SHeet being closed
FIXED (v0.5.3)  If you press the Quick Encounters button in a QE Journal, get another instance of the button;
                    - needs to check that the button and Div isn't already there
                    - was this happening in 0.6.6? No
                    - Delete any existing dynamic QE sections and re-create them
FIXED? in 0.6.0: v0.5.0 Sometimes the Combat Tracker is not ready in time - need to increase the timeout and maybe check if it's been rendered
                        - happens when the image is not local but an http link
FIXED in 0.6.0b: v0.5.4: Should check for QE.HowToUse.TITLE in deciding whether to pop up an extra Tutorial
FIXED in 0.6.1 The XP to award dialog box no longer shows for everyone when you delete the Combat Tracker 

## COMPLETED FEATURES
(v0.4.0): If you're on a different scene, pops a dialog to check that you want to switch scenes
v0.3.4: De-select all other controlled tokens when placing tokens to add them to the combat Tracker
(v0.4.0) Replace forEach calls with for/of
2. If you open the Quick Encounter Journal with stored token information then use that in preference
- Finish i18n for dialogs (but not for tutorial Journal)
Method 1 should put the # of Actors in front of the actor link - this will enable later changing the specific actors
(v0.4.1) Sum up and show the XP (5e only) for a combat - Total XP for this Encounter Journal, and a way of calculating per # of players
(v0.4.2) Add the count x Actor to the documentation/tutorial
(v0.5.0) - If you include Friendly tokens, show a dialog to check that's what you want
(v0.5.0) - Method 1 should create the Map Note without asking
(v0.5.0) - Method 2 will now always ask you to create a Map Note when you close the Journal Entry
(v0.5.1) Dynamically calculate Encounter XP above the button
v0.5.0 Make the embedded button smaller - width of the text and centered
(0.5.3) Incorporate current Spanish translation
(0.5.3b) Move the Tutorial completely into lang/
(0.5.3c) Move asking about creating a Map Note to when you want to run the Encounter; otherwise put a note in the dynamic section
(0.5.3d) Add Freeze "captured" tokens option (as to whether Token Mold is allowed to change the tokens after they're saved)
(In 0.5.5)  After combat, show the XP and XP-per-player token - can be enabled/disabled with new Setting
v0.6.0 Allows you to import Actors dynamically by using Compendium entries (but note it will re-import the Actor every time)
v0.6.0     - Allow die rolls before the Actor links for dynamic generation
v0.6.1 - After Actor links: Show individual XP and whether tokens have been placed dynamically - placed in a custom companion dialog
v0.6.1 Close Companion Dialog when you close QE Journal Sheet
v0.6.1 Change Close to Cancel in CompanionDialog
v0.6.1 If you open a Quick Encounter Journal Entry and then select token(s) and press the Quick Encounters button, adds the tokens to the existing QE 
        - Change # actors to 0 to remove the Actor completely
v0.6.1  - Alt-Run should add ALL tokens Invisible; Ctrl-Run makes them all visible
v0.6.1 - Make QuickEncounter more oo; create around the quickEncounter that is stored in the Journal Entry
